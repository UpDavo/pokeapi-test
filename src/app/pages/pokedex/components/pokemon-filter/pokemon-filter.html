<!-- Contenedor de filtros -->
<div class="space-y-4 mb-8">
  <!-- Fila de filtros -->
  <div class="flex flex-wrap items-center gap-3">
    <!-- Buscador -->
    <input
      type="text"
      placeholder="Buscar pokémon..."
      class="border border-gray-300 rounded-lg px-3 py-2 text-sm w-52 focus:outline-none focus:ring-2 focus:ring-black text-black"
      [(ngModel)]="search"
      (input)="onSearchChange()"
      [disabled]="isLoading"
    />

    <!-- Select Tipo -->
    <select
      class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black text-black"
      [(ngModel)]="selectedType"
      (change)="onTypeChange()"
      [disabled]="isLoading"
    >
      <option value="">Todos los tipos</option>
      @for (type of pokemonTypes; track type) {
      <option [value]="type">{{ 'pokedex.types.' + type | translate }}</option>
      }
    </select>

    <!-- Select Región -->
    <select
      class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black text-black"
      [(ngModel)]="selectedRegion"
      (change)="onRegionChange()"
      [disabled]="isLoading"
    >
      <option value="">Todas las regiones</option>
      @for (region of pokemonRegions; track region) {
      <option [value]="region">{{ 'pokedex.regions.' + region | translate }}</option>
      }
    </select>

    <!-- Select Generación -->
    <select
      class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black text-black"
      [(ngModel)]="selectedGeneration"
      (change)="onGenerationChange()"
      [disabled]="isLoading"
    >
      <option value="">Todas las generaciones</option>
      @for (generation of pokemonGenerations; track generation) {
      <option [value]="generation">
        {{ 'pokedex.filter.generation' | translate }} {{ generation }}
      </option>
      }
    </select>

    <!-- Botones -->
    <button
      class="bg-black text-white text-sm px-4 py-2 rounded-lg hover:opacity-90"
      (click)="emitFilterChange()"
    >
      Aplicar
    </button>
    <button
      class="border border-black text-black text-sm px-4 py-2 rounded-lg hover:bg-gray-100"
      (click)="onClearFilters()"
    >
      Eliminar filtros
    </button>
  </div>

  <!-- Chips de filtros activos -->
  @if (hasActiveFilters) {
  <div class="flex flex-wrap gap-2">
    @if (selectedType) {
    <span
      class="bg-black text-white text-xs px-3 py-1 rounded-full flex items-center gap-2 cursor-pointer"
      (click)="selectedType = ''; emitFilterChange()"
    >
      {{ 'pokedex.types.' + selectedType | translate }}
      <span class="font-bold">×</span>
    </span>
    } @if (selectedRegion) {
    <span
      class="bg-black text-white text-xs px-3 py-1 rounded-full flex items-center gap-2 cursor-pointer"
      (click)="selectedRegion = ''; emitFilterChange()"
    >
      {{ 'pokedex.regions.' + selectedRegion | translate }}
      <span class="font-bold">×</span>
    </span>
    } @if (selectedGeneration) {
    <span
      class="bg-black text-white text-xs px-3 py-1 rounded-full flex items-center gap-2 cursor-pointer"
      (click)="selectedGeneration = ''; emitFilterChange()"
    >
      Gen {{ selectedGeneration }}
      <span class="font-bold">×</span>
    </span>
    }
  </div>
  }
</div>
