<!-- Header con PrimeNG -->
<div class="bg-secondary shadow-sm">
  <!-- Desktop Header -->
  <div class="hidden lg:block bg-secondary">
    <p-menubar [model]="primeMenuItems" styleClass="bg-secondary border-none">
      <ng-template pTemplate="start">
        <span class="text-lg font-bold text-white mr-8">Pok√©Trainer</span>
      </ng-template>

      <ng-template pTemplate="end">
        <div class="flex items-center gap-4">
          <!-- Men√∫ de idioma -->
          <p-button
            [label]="'menu.language' | translate"
            icon="pi pi-globe"
            [text]="true"
            styleClass="text-white hover:bg-gray-700"
            #languageBtn
            (click)="languageMenu.toggle($event)"
          ></p-button>
          <p-menu
            #languageMenu
            [popup]="true"
            [model]="languageMenuItems"
            [appendTo]="'body'"
          ></p-menu>

          <!-- Avatar con men√∫ -->
          <p-avatar
            image="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"
            shape="circle"
            size="normal"
            styleClass="cursor-pointer hover:opacity-80"
            #userBtn
            (click)="userMenu.toggle($event)"
          ></p-avatar>
          <p-menu #userMenu [popup]="true" [model]="userMenuItems" [appendTo]="'body'"></p-menu>
        </div>
      </ng-template>
    </p-menubar>
  </div>

  <!-- Mobile Header -->
  <div class="lg:hidden flex items-center justify-between p-4">
    <!-- Hamburger button -->
    <p-button
      icon="pi pi-bars"
      [text]="true"
      styleClass="text-white"
      (click)="toggleSidebar()"
    ></p-button>

    <!-- Logo -->
    <span class="text-lg font-bold text-white">Pok√©Trainer</span>

    <!-- Avatar m√≥vil -->
    <p-avatar
      image="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"
      shape="circle"
      size="normal"
      styleClass="cursor-pointer"
      #userBtnMobile
      (click)="userMenuMobile.toggle($event)"
    ></p-avatar>
    <p-menu #userMenuMobile [popup]="true" [model]="userMenuItems" [appendTo]="'body'"></p-menu>
  </div>
</div>

<!-- Mobile Sidebar -->
<p-drawer [(visible)]="sidebarVisible" position="left" styleClass="w-80">
  <ng-template pTemplate="header">
    <span class="text-lg font-bold">Pok√©Trainer</span>
  </ng-template>

  <ng-template pTemplate="content">
    <div class="flex flex-col gap-2 p-4">
      <!-- Men√∫ de navegaci√≥n -->
      @for (item of menu; track item) {
      <p-button
        [label]="item.label | translate"
        [routerLink]="item.link"
        [text]="true"
        styleClass="justify-start text-left w-full"
        (click)="sidebarVisible = false"
      ></p-button>
      }

      <hr class="my-4" />

      <!-- Idiomas -->
      <p-button
        label="Espa√±ol üá™üá∏"
        [text]="true"
        styleClass="justify-start text-left w-full"
        (click)="switchLang('es'); sidebarVisible = false"
      ></p-button>
      <p-button
        label="English üá∫üá∏"
        [text]="true"
        styleClass="justify-start text-left w-full"
        (click)="switchLang('en'); sidebarVisible = false"
      ></p-button>
      <p-button
        label="Portugu√™s üáßüá∑"
        [text]="true"
        styleClass="justify-start text-left w-full"
        (click)="switchLang('pt'); sidebarVisible = false"
      ></p-button>

      <hr class="my-4" />

      <!-- Opciones de usuario -->
      <p-button
        [label]="'menu.profile' | translate"
        icon="pi pi-user"
        [text]="true"
        styleClass="justify-start text-left w-full"
      ></p-button>
      <p-button
        [label]="'menu.settings' | translate"
        icon="pi pi-cog"
        [text]="true"
        styleClass="justify-start text-left w-full"
      ></p-button>
      <p-button
        [label]="'menu.logout' | translate"
        icon="pi pi-sign-out"
        [text]="true"
        styleClass="justify-start text-left w-full text-red-500"
        (click)="logout(); sidebarVisible = false"
      ></p-button>
    </div>
  </ng-template>
</p-drawer>
